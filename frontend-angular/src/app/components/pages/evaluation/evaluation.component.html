<app-title [links]="[{title:'Evaluations of goal',titleSuffix:service.goalItsEvaluations$.value?.activity?.name},
{title:'Goals',link:'/child/'+service.goalItsEvaluations$.value?.child?.id+'/goals'},
{title:service.goalItsEvaluations$.value?.child?.person?.name??'',link:'/child/'+service.goalItsEvaluations$.value?.child?.id},
{title:'Children',link:'/children'},]" [isPrinting]="isPrinting"></app-title>
<div class="container">
  <app-search-export [isPrinting]="isPrinting" [gridOptions]="gridOptions"
  (keyup)="applySearch($event)" (print)="printTable()"></app-search-export>

  <div class="mat-elevation-z4 table-responsive mb-4 rounded-4">
    <!-- AG Grid Angular Component -->
    <ag-grid-angular style="width: 100%;" class="ag-theme-material rtl" [gridOptions]="gridOptions"
      [rowData]="(service.goalItsEvaluations$|async)?.evaluations" domLayout='autoHeight'
      [quickFilterText]="quickFilter"></ag-grid-angular>
  </div>

  <app-table-controllers *ngIf="!isPrinting"
  [button1]="{show:this.pr.canUser('addEvaluation'),text:'Add new evaluation',icon:'rate_review'}"
  (button1Click)="addEdit(service.goalItsEvaluations$.value?.id)"
  [button2]="{show:this.pr.canUser('editEvaluation'),disabled:selectedItem==null,tooltip:'Edit the selected row',text:'Edit',icon:'edit'}"
  (button2Click)="addEdit(this.selectedItem)"
  [button3]="{show:this.pr.canUser('deleteEvaluation'),disabled:selectedItem==null,tooltip:'Delete the selected evaluation',color:'warn',icon:'delete',text:'Delete'}"
  (button3Click)="deleteDialog(this.selectedItem)"
  ></app-table-controllers>
</div>
