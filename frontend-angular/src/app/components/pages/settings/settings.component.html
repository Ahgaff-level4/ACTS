<mat-card class="m-4">
  <mat-card-header>
    <mat-card-title><p>{{'Application Language'|translate}}</p></mat-card-title>
  </mat-card-header>
  <mat-card-content class="d-flex justify-content-center">
    <mat-button-toggle-group class="w-75" aria-label="Choose language">
      <mat-button-toggle class="w-50" [checked]="this.translate.currentLang=='ar'"
        (change)="this.translate.use('ar')">{{'عربي'|translate}}</mat-button-toggle>
      <mat-button-toggle class="w-50" [checked]="this.translate.currentLang=='en'"
        (change)="this.translate.use('en')">{{'English'|translate}}</mat-button-toggle>
    </mat-button-toggle-group>
  </mat-card-content>
</mat-card>

<mat-card class="m-4" *ngIf="this.ut.userHasAny('Admin')">
  <mat-card-header>
    <mat-card-title>{{'Backup & Recovery'|translate}}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <p>{{'Backup and recovery is a process of creating and storing copies of the system data that can be used to protect your system information in case of a system failure, malware attack, or accidental deletion.'|translate}}</p>
    <p>{{'Click on Create Backup File button to create a backup of the entire database and download it as a backup file. You can also use this file to restore your database to its previous state if something goes wrong.'|translate}}</p>
    <p>{{'Click on Restore Database button to restore the database from a backup, choose the backup file you want to use. Your database will be overwritten with the data from the backup file. The restore process will replace your current database with the backup version. You will be able to access your data as it was before the failure.'|translate}}</p>
    <a [disabled]="uploadProgress!=null" class="mx-2" mat-stroked-button [href]="this.API+'backup'" download color="primary">{{'Create Backup File'|translate}}</a>

    <input #fileInput type="file" name="backup" (change)="onFileSelected($event)" accept=".sql.gz" hidden>
    <button [disabled]="uploadProgress!=null" class="mx-2" mat-stroked-button (click)="restore()" color="warn">{{'Restore Database'|translate}}</button>

    <mat-progress-bar *ngIf="uploadProgress != null" class="mt-2" mode="determinate" [value]="uploadProgress"></mat-progress-bar>
  </mat-card-content>
</mat-card>

<mat-card class="m-4">
  <mat-card-header>
    <mat-card-title>Theme Settings</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <p>Select your preferred theme:</p>
    <ul>
      <li><input type="radio" name="theme" value="indigo-pink"> Indigo/Pink</li>
      <li><input type="radio" name="theme" value="deeppurple-amber"> Deep Purple/Amber</li>
      <li><input type="radio" name="theme" value="pink-bluegrey"> Pink/Blue Grey</li>
      <li><input type="radio" name="theme" value="purple-green"> Purple/Green</li>
    </ul>
  </mat-card-content>
</mat-card>
